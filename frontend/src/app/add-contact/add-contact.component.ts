import {Component, ElementRef, OnInit, ViewChild} from '@angular/core';
import {Model} from "../model";
import {ActivatedRoute, Params} from '@angular/router';
import {HttpClient} from "@angular/common/http";
import {Format} from "./format";
import imageCompression from 'browser-image-compression'
@Component({
  selector: 'app-add-contact',
  templateUrl: './add-contact.component.html',
  styleUrls: ['./add-contact.component.css']
})
export class AddContactComponent implements OnInit{

  constructor(private http: HttpClient) { }

  image = "data:image/png;base64, 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"

  name = "Unknown Name"
  job = "Unknown Job"
  items: Model[] = []

  favorites = false;

  id = window.location.pathname.split("/")[2];

  openFile() {
    let yourElem= <HTMLElement>document.querySelector('#inputValue');
    yourElem.click();
  }


  async onUploadFile(event: any) {

    var options = {
      maxSizeMB: 2,
      maxWidthOrHeight: 512,
      useWebWorker: true
    }
    const output : File = await imageCompression(event.target.files[0], options)

    var fileReader = new FileReader();
    fileReader.onload = function (event) {
      if (event.target != null) {
        var uri = event.target.result;
        let yourElem= <HTMLElement>document.querySelector('#imageBase64');
        if (typeof uri === "string") {
          yourElem.setAttribute("src", uri);

        }

      }
    };

    fileReader.readAsDataURL(output);


  }

  onChangeName() {
   let name = window.prompt('New Name', 'Unknown Name');
    let yourElem= <HTMLElement>document.querySelector('#changeName');
    yourElem.textContent = name;
  }

  onChangeJob() {
    let name = window.prompt('New Job', 'Unknown Job');
    let yourElem= <HTMLElement>document.querySelector('#changeJob');
    yourElem.textContent = name;
  }

  addItem() {
    let type = window.prompt('Type', '');
    let icon = "fa-" + type;
    let value = window.prompt('Value', '');

    if (type != null && icon != null && value != null) {
      this.items.push({type: type, value: value, icon: icon});
    }
  }

  delete(id: string) {
    this.http.get("http://localhost:3000/api/deletedata?_id=" + this.id).subscribe(res => {

      window.location.href = '/';
      console.log(res)

    }, err => {
      console.log(err)

    });
  }

  save() {
    let image = <HTMLElement>document.querySelector('#imageBase64');
    let name= <HTMLElement>document.querySelector('#changeName');
    let job= <HTMLElement>document.querySelector('#changeJob');
    //console.log(JSON.stringify(this.items))

    if (name.textContent != null && job.textContent != null && image.getAttribute("src") != null && this.items != null) {

      let model: Format = {
        name: name.textContent,
        job: job.textContent,
        photo: image.getAttribute("src"),
        favorite: false,
        items: this.items
      }

      if (this.id != null) {
        this.delete(this.id);
        model.favorite = this.favorites;
      }
      this.http.post("http://localhost:3000/api/insertdata", model).subscribe(res => {


        window.location.href = '/';

      }, err => {
        return 0;
      });

    }
  }

  ngOnInit(): void {

    if (this.id != null) {

      this.http.get("http://localhost:3000/api/find?_id=" + this.id).subscribe(res => {

        this.image = JSON.parse(JSON.stringify(res)).photo;
        this.name = JSON.parse(JSON.stringify(res)).name;
        this.job = JSON.parse(JSON.stringify(res)).job;
        this.items = JSON.parse(JSON.stringify(res)).items;
        this.favorites = JSON.parse(JSON.stringify(res)).favorite;



      }, err => {
        return 0;
      });


    }

  }

  removeFromItem(item : Model) {

    this.items.splice(this.items.indexOf(item), 1);


  }

}
